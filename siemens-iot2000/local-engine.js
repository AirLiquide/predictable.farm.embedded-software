/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**************************!*\
  !*** ./enums/redtype.js ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar redtype = exports.redtype = {\n  math_average: 'math_average',\n  math_equal: 'math_equal',\n  math_inferior: 'math_inferior',\n  math_inferior_equal: 'math_inferior_equal',\n  math_superior: 'math_superior',\n  math_superior_equal: 'math_superior_equal',\n  logic_and: 'logic_and',\n  logic_or: 'logic_or',\n  scheduler: 'scheduler',\n  global_actuator: 'global_actuator'\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9lbnVtcy9yZWR0eXBlLmpzPzNlYzUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGxldCByZWR0eXBlID0ge1xuICBtYXRoX2F2ZXJhZ2U6ICdtYXRoX2F2ZXJhZ2UnLFxuICBtYXRoX2VxdWFsOiAnbWF0aF9lcXVhbCcsXG4gIG1hdGhfaW5mZXJpb3I6ICdtYXRoX2luZmVyaW9yJyxcbiAgbWF0aF9pbmZlcmlvcl9lcXVhbDogJ21hdGhfaW5mZXJpb3JfZXF1YWwnLFxuICBtYXRoX3N1cGVyaW9yOiAnbWF0aF9zdXBlcmlvcicsXG4gIG1hdGhfc3VwZXJpb3JfZXF1YWw6ICdtYXRoX3N1cGVyaW9yX2VxdWFsJyxcbiAgbG9naWNfYW5kOiAnbG9naWNfYW5kJyxcbiAgbG9naWNfb3I6ICdsb2dpY19vcicsXG4gIHNjaGVkdWxlcjogJ3NjaGVkdWxlcicsXG4gIGdsb2JhbF9hY3R1YXRvcjogJ2dsb2JhbF9hY3R1YXRvcidcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBlbnVtcy9yZWR0eXBlLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _engine = __webpack_require__(/*! ./class/engine */ 2);\n\nvar _engine2 = _interopRequireDefault(_engine);\n\nvar _sensor = __webpack_require__(/*! ./class/sensor */ 5);\n\nvar _sensor2 = _interopRequireDefault(_sensor);\n\nvar _ConfigHelper = __webpack_require__(/*! ./class/ConfigHelper */ 6);\n\nvar _ConfigHelper2 = _interopRequireDefault(_ConfigHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LOCAL_ENGINE_PORT = 6500;\n\nvar sensorHelper = new _sensor2.default();\nvar configHelper = new _ConfigHelper2.default();\nvar engine = new _engine2.default(sensorHelper, configHelper);\n\nconfigHelper.engine = engine;\n\nvar io = {};\n\nif (true) {\n  io = eval('require')('/usr/lib/node_modules/socket.io')(LOCAL_ENGINE_PORT);\n} else {\n  // io = require('socket.io')(LOCAL_ENGINE_PORT)\n  io = eval('require')('/usr/lib/node_modules/socket.io')(LOCAL_ENGINE_PORT);\n}\nconsole.log('[' + new Date().toISOString() + '] ' + 'Local Engine started on port ' + LOCAL_ENGINE_PORT);\n\nio.on('connection', function (socket) {\n  engine.setSocket(socket);\n  socket.emit('get-config');\n\n  socket.on('set-config', function (data) {\n    console.log('[' + new Date().toISOString() + '] ' + 'New config received');\n    if (!data) {\n      socket.emit('config-error', 'data object is null');\n      return;\n    }\n\n    configHelper.graph = data.graph;\n\n    if (typeof data.device_id === 'string') {\n      configHelper.deviceid = data.device_id;\n    } else {\n      configHelper.deviceid = data.device_id.toString();\n    }\n\n    var conf = configHelper.getConfig();\n\n    socket.emit('config-ok', conf);\n\n    configHelper.ready = true;\n\n    if (conf.type === 'server') {\n      setTimeout(function () {\n        computeDelay();\n      }, 5000);\n    }\n  });\n\n  socket.on('sensor-emit', function (data) {\n    if (configHelper.ready) {\n      sensorHelper.updateData(data);\n    }\n  });\n});\n\nfunction computeDelay() {\n  engine.compute();\n  setTimeout(function () {\n    computeDelay();\n  }, 2000);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9pbmRleC5qcz8xNjg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbmdpbmUgZnJvbSAnLi9jbGFzcy9lbmdpbmUnXG5pbXBvcnQgU2Vuc29yIGZyb20gJy4vY2xhc3Mvc2Vuc29yJ1xuaW1wb3J0IENvbmZpZ0hlbHBlciBmcm9tICcuL2NsYXNzL0NvbmZpZ0hlbHBlcidcblxuY29uc3QgTE9DQUxfRU5HSU5FX1BPUlQgPSA2NTAwXG5cbmxldCBzZW5zb3JIZWxwZXIgPSBuZXcgU2Vuc29yKClcbmxldCBjb25maWdIZWxwZXIgPSBuZXcgQ29uZmlnSGVscGVyKClcbmxldCBlbmdpbmUgPSBuZXcgRW5naW5lKHNlbnNvckhlbHBlciwgY29uZmlnSGVscGVyKVxuXG5jb25maWdIZWxwZXIuZW5naW5lID0gZW5naW5lXG5cbmxldCBpbyA9IHt9XG5cbmlmIChDT05URVhUID09PSAnbGluaW5vJyB8fMKgQ09OVEVYVCA9PT0gJ2lvdDIwMDAnKSB7XG4gIGlvID0gZXZhbCgncmVxdWlyZScpKCcvdXNyL2xpYi9ub2RlX21vZHVsZXMvc29ja2V0LmlvJykoTE9DQUxfRU5HSU5FX1BPUlQpXG59IGVsc2Uge1xuICAvLyBpbyA9IHJlcXVpcmUoJ3NvY2tldC5pbycpKExPQ0FMX0VOR0lORV9QT1JUKVxuICBpbyA9IGV2YWwoJ3JlcXVpcmUnKSgnL3Vzci9saWIvbm9kZV9tb2R1bGVzL3NvY2tldC5pbycpKExPQ0FMX0VOR0lORV9QT1JUKVxufVxuY29uc29sZS5sb2coJ1snICsgKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCkgKyAnXSAnICsgJ0xvY2FsIEVuZ2luZSBzdGFydGVkIG9uIHBvcnQgJyArIExPQ0FMX0VOR0lORV9QT1JUKVxuXG5pby5vbignY29ubmVjdGlvbicsIGZ1bmN0aW9uIChzb2NrZXQpIHtcbiAgZW5naW5lLnNldFNvY2tldChzb2NrZXQpXG4gIHNvY2tldC5lbWl0KCdnZXQtY29uZmlnJylcblxuICBzb2NrZXQub24oJ3NldC1jb25maWcnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKCdbJyArIChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpICsgJ10gJyArICdOZXcgY29uZmlnIHJlY2VpdmVkJylcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHNvY2tldC5lbWl0KCdjb25maWctZXJyb3InLCAnZGF0YSBvYmplY3QgaXMgbnVsbCcpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25maWdIZWxwZXIuZ3JhcGggPSBkYXRhLmdyYXBoXG5cbiAgICBpZiAodHlwZW9mIGRhdGEuZGV2aWNlX2lkID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnSGVscGVyLmRldmljZWlkID0gZGF0YS5kZXZpY2VfaWRcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnSGVscGVyLmRldmljZWlkID0gZGF0YS5kZXZpY2VfaWQudG9TdHJpbmcoKVxuICAgIH1cblxuICAgIHZhciBjb25mID0gY29uZmlnSGVscGVyLmdldENvbmZpZygpXG5cbiAgICBzb2NrZXQuZW1pdCgnY29uZmlnLW9rJywgY29uZilcblxuICAgIGNvbmZpZ0hlbHBlci5yZWFkeSA9IHRydWVcblxuICAgIGlmIChjb25mLnR5cGUgPT09ICdzZXJ2ZXInKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgY29tcHV0ZURlbGF5KCkgfSwgNTAwMClcbiAgICB9XG4gIH0pXG5cbiAgc29ja2V0Lm9uKCdzZW5zb3ItZW1pdCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgaWYgKGNvbmZpZ0hlbHBlci5yZWFkeSkge1xuICAgICAgc2Vuc29ySGVscGVyLnVwZGF0ZURhdGEoZGF0YSlcbiAgICB9XG4gIH0pXG59KVxuXG5mdW5jdGlvbiBjb21wdXRlRGVsYXkgKCkge1xuICBlbmdpbmUuY29tcHV0ZSgpXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBjb21wdXRlRGVsYXkoKSB9LCAyMDAwKVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGluZGV4LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!*************************!*\
  !*** ./class/engine.js ***!
  \*************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reader = __webpack_require__(/*! ./reader */ 3);\n\nvar _reader2 = _interopRequireDefault(_reader);\n\nvar _redtype = __webpack_require__(/*! ../enums/redtype */ 0);\n\nvar _scheduler = __webpack_require__(/*! ./scheduler */ 4);\n\nvar _scheduler2 = _interopRequireDefault(_scheduler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Engine = function () {\n  function Engine(sensorHelper, configHelper) {\n    _classCallCheck(this, Engine);\n\n    this.reader = new _reader2.default(configHelper);\n    this.sensorHelper = sensorHelper;\n    this.configHelper = configHelper;\n    this.socket = null;\n    this.idCycle = '';\n\n    this.subcondition = [];\n    this.queueEntryPoint = [];\n  }\n\n  _createClass(Engine, [{\n    key: 'compute',\n    value: function compute() {\n      this.idCycle = this.getIdCycle();\n\n      if (this.configHelper.graph !== null) {\n        for (var i = 0; i < this.reader.getEntryPointNode().length; i++) {\n          this.queueEntryPoint.push(this.reader.getEntryPointNode()[i]);\n        }\n\n        this.extractSubCondition(this.queueEntryPoint.shift().id);\n      }\n    }\n  }, {\n    key: 'getIdCycle',\n    value: function getIdCycle() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0,\n            v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n      });\n    }\n  }, {\n    key: 'setSocket',\n    value: function setSocket(socket) {\n      this.socket = socket;\n    }\n  }, {\n    key: 'setScheadulerNodeStatut',\n    value: function setScheadulerNodeStatut(node) {\n      if (this.sensorHelper.scheduler[node.id] === undefined) {\n        this.sensorHelper.scheduler[node.id] = { cycle: this.idCycle, timestamp: Math.round(new Date().getTime() / 1000) };\n      }\n\n      if (this.sensorHelper.scheduler[node.id].cycle !== this.idCycle) {\n        this.subcondition[node.id] = false;\n      }\n\n      if (new _scheduler2.default(node, this.sensorHelper, this.idCycle).getScheadulerNodeStatut()) {\n        this.sensorHelper.scheduler[node.id] = { cycle: this.idCycle, timestamp: Math.round(new Date().getTime() / 1000) };\n        this.subcondition[node.id] = true;\n      }\n    }\n  }, {\n    key: 'extractSubCondition',\n    value: function extractSubCondition(entrypoint) {\n      var finished = false;\n\n      var parent = this.reader.getNodeFromId(entrypoint);\n      var child = this.reader.getNodeFromId(parent.wires[0][0]);\n      if (child != undefined || child != null) {\n        if (child.wires.length === 0) {\n          finished = true;\n        }\n\n        switch (child.type) {\n          case _redtype.redtype.math_average:\n            var amount = child.amount;\n            if (child.delayType === 'minutes') {\n              amount = amount * 60;\n            }\n\n            if (child.delayType === 'hours') {\n              amount = amount * 3600;\n            }\n\n            this.subcondition[child.id] = false;\n\n            if (this.sensorHelper.math_average[child.id] === undefined) {\n              this.sensorHelper.math_average[child.id] = {\n                timestamp: Math.round(new Date().getTime() / 1000),\n                amount: amount\n              };\n            } else {\n              if (Math.round(new Date().getTime() / 1000) - this.sensorHelper.math_average[child.id].timestamp >= amount) {\n                this.sensorHelper.math_average[child.id].timestamp = Math.round(new Date().getTime() / 1000);\n                this.subcondition[child.id] = true;\n              }\n            }\n            break;\n\n          case _redtype.redtype.math_inferior:\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) === null) {\n              this.subcondition[child.id] = false;\n              break;\n            }\n\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) < child.value) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.math_inferior_equal:\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) === null) {\n              this.subcondition[child.id] = false;\n              break;\n            }\n\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) <= child.value) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.math_equal:\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) === null) {\n              this.subcondition[child.id] = false;\n              break;\n            }\n\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) === child.value) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.math_superior:\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) === null) {\n              this.subcondition[child.id] = false;\n              break;\n            }\n\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) > child.value) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.math_superior_equal:\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) === null) {\n              this.subcondition[child.id] = false;\n              break;\n            }\n\n            if (this.sensorHelper.getSensorValueByIdAndType(this.configHelper.deviceid, parent.type) >= child.value) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.logic_and:\n            var conditionLogicAndOk = true;\n\n            for (var i = 0; i < this.reader.getConnectedNodeParentsFromId(child.id).length; i++) {\n              var nodeS = this.reader.getNodeFromId(this.reader.getConnectedNodeParentsFromId(child.id)[i].id);\n\n              if (nodeS.type === _redtype.redtype.scheduler) {\n                this.setScheadulerNodeStatut(nodeS);\n              }\n\n              if (this.subcondition[this.reader.getConnectedNodeParentsFromId(child.id)[i].id] !== true) {\n                conditionLogicAndOk = false;\n              }\n            }\n\n            if (conditionLogicAndOk) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.logic_or:\n            var conditionLogicOrOk = false;\n\n            for (var _i = 0; _i < this.reader.getConnectedNodeParentsFromId(child.id).length; _i++) {\n              if (this.subcondition[this.reader.getConnectedNodeParentsFromId(child.id)[_i].id] === true && !conditionLogicOrOk) {\n                conditionLogicOrOk = true;\n              }\n            }\n\n            if (conditionLogicOrOk) {\n              this.subcondition[child.id] = true;\n            } else {\n              this.subcondition[child.id] = false;\n            }\n            break;\n\n          case _redtype.redtype.global_actuator:\n            var conditionGlobalActuatorOk = true;\n\n            for (var _i2 = 0; _i2 < this.reader.getConnectedNodeParentsFromId(child.id).length; _i2++) {\n              if (this.subcondition[this.reader.getConnectedNodeParentsFromId(child.id)[_i2].id] !== true) {\n                conditionGlobalActuatorOk = false;\n              }\n            }\n\n            if (conditionGlobalActuatorOk) {\n              this.subcondition[child.id] = true;\n\n              if (this.socket !== null) {\n                // console.log('#######child : ', child)\n                this.socket.emit('sensor-receive', {\n                  sensor_type: 'relay' + child.relaynumber,\n                  device_id: child.deviceid,\n                  sensor_mode: 1,\n                  sensor_value: child.value\n                });\n              }\n            } else {\n              this.subcondition[child.id] = false;\n\n              if (this.socket !== null) {\n                // console.log('#######child : ', child)\n                this.socket.emit('sensor-receive', {\n                  sensor_type: 'relay' + child.relaynumber,\n                  device_id: child.deviceid,\n                  sensor_mode: 0,\n                  sensor_value: child.value\n                });\n              }\n            }\n            break;\n        }\n      }\n\n      if (!finished) {\n        this.extractSubCondition(child.id);\n      } else {\n        if (this.queueEntryPoint.length > 0) {\n          this.extractSubCondition(this.queueEntryPoint.shift().id);\n        } else {\n          // console.log(this.subcondition)\n        }\n      }\n    }\n  }]);\n\n  return Engine;\n}();\n\nexports.default = Engine;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jbGFzcy9lbmdpbmUuanM/N2FhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhZGVyIGZyb20gJy4vcmVhZGVyJ1xuaW1wb3J0IHsgcmVkdHlwZSB9IGZyb20gJy4uL2VudW1zL3JlZHR5cGUnXG5pbXBvcnQgU2NoZWR1bGVyIGZyb20gJy4vc2NoZWR1bGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmdpbmUge1xuICBjb25zdHJ1Y3RvciAoc2Vuc29ySGVscGVyLCBjb25maWdIZWxwZXIpIHtcbiAgICB0aGlzLnJlYWRlciA9IG5ldyBSZWFkZXIoY29uZmlnSGVscGVyKVxuICAgIHRoaXMuc2Vuc29ySGVscGVyID0gc2Vuc29ySGVscGVyXG4gICAgdGhpcy5jb25maWdIZWxwZXIgPSBjb25maWdIZWxwZXJcbiAgICB0aGlzLnNvY2tldCA9IG51bGxcbiAgICB0aGlzLmlkQ3ljbGUgPSAnJ1xuXG4gICAgdGhpcy5zdWJjb25kaXRpb24gPSBbXVxuICAgIHRoaXMucXVldWVFbnRyeVBvaW50ID0gW11cbiAgfVxuXG4gIGNvbXB1dGUgKCkge1xuICAgIHRoaXMuaWRDeWNsZSA9IHRoaXMuZ2V0SWRDeWNsZSgpXG5cbiAgICBpZiAodGhpcy5jb25maWdIZWxwZXIuZ3JhcGggIT09IG51bGwpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWFkZXIuZ2V0RW50cnlQb2ludE5vZGUoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnF1ZXVlRW50cnlQb2ludC5wdXNoKHRoaXMucmVhZGVyLmdldEVudHJ5UG9pbnROb2RlKClbaV0pXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXh0cmFjdFN1YkNvbmRpdGlvbih0aGlzLnF1ZXVlRW50cnlQb2ludC5zaGlmdCgpLmlkKVxuICAgIH1cbiAgfVxuXG4gIGdldElkQ3ljbGUgKCkge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OClcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KVxuICAgIH0pXG4gIH1cblxuICBzZXRTb2NrZXQgKHNvY2tldCkge1xuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0XG4gIH1cblxuICBzZXRTY2hlYWR1bGVyTm9kZVN0YXR1dCAobm9kZSkge1xuICAgIGlmICh0aGlzLnNlbnNvckhlbHBlci5zY2hlZHVsZXJbbm9kZS5pZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZW5zb3JIZWxwZXIuc2NoZWR1bGVyW25vZGUuaWRdID0ge2N5Y2xlOiB0aGlzLmlkQ3ljbGUsIHRpbWVzdGFtcDogTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNlbnNvckhlbHBlci5zY2hlZHVsZXJbbm9kZS5pZF0uY3ljbGUgIT09IHRoaXMuaWRDeWNsZSkge1xuICAgICAgdGhpcy5zdWJjb25kaXRpb25bbm9kZS5pZF0gPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChuZXcgU2NoZWR1bGVyKG5vZGUsIHRoaXMuc2Vuc29ySGVscGVyLCB0aGlzLmlkQ3ljbGUpLmdldFNjaGVhZHVsZXJOb2RlU3RhdHV0KCkpIHtcbiAgICAgIHRoaXMuc2Vuc29ySGVscGVyLnNjaGVkdWxlcltub2RlLmlkXSA9IHtjeWNsZTogdGhpcy5pZEN5Y2xlLCB0aW1lc3RhbXA6IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKX1cbiAgICAgIHRoaXMuc3ViY29uZGl0aW9uW25vZGUuaWRdID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGV4dHJhY3RTdWJDb25kaXRpb24gKGVudHJ5cG9pbnQpIHtcbiAgICBsZXQgZmluaXNoZWQgPSBmYWxzZVxuXG4gICAgbGV0IHBhcmVudCA9IHRoaXMucmVhZGVyLmdldE5vZGVGcm9tSWQoZW50cnlwb2ludClcbiAgICBsZXQgY2hpbGQgPSB0aGlzLnJlYWRlci5nZXROb2RlRnJvbUlkKHBhcmVudC53aXJlc1swXVswXSlcbiAgICBpZiAoY2hpbGQgIT0gdW5kZWZpbmVkIHx8IGNoaWxkICE9IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC53aXJlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZmluaXNoZWQgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoY2hpbGQudHlwZSkge1xuICAgICAgICBjYXNlIHJlZHR5cGUubWF0aF9hdmVyYWdlOlxuICAgICAgICAgIGxldCBhbW91bnQgPSBjaGlsZC5hbW91bnRcbiAgICAgICAgICBpZiAoY2hpbGQuZGVsYXlUeXBlID09PSAnbWludXRlcycpIHtcbiAgICAgICAgICAgIGFtb3VudCA9IGFtb3VudCAqIDYwXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoaWxkLmRlbGF5VHlwZSA9PT0gJ2hvdXJzJykge1xuICAgICAgICAgICAgYW1vdW50ID0gYW1vdW50ICogMzYwMFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IGZhbHNlXG5cbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIubWF0aF9hdmVyYWdlW2NoaWxkLmlkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbnNvckhlbHBlci5tYXRoX2F2ZXJhZ2VbY2hpbGQuaWRdID0ge1xuICAgICAgICAgICAgICB0aW1lc3RhbXA6IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKChNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgLSB0aGlzLnNlbnNvckhlbHBlci5tYXRoX2F2ZXJhZ2VbY2hpbGQuaWRdLnRpbWVzdGFtcCkgPj0gYW1vdW50KSB7XG4gICAgICAgICAgICAgIHRoaXMuc2Vuc29ySGVscGVyLm1hdGhfYXZlcmFnZVtjaGlsZC5pZF0udGltZXN0YW1wID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApXG4gICAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIHJlZHR5cGUubWF0aF9pbmZlcmlvcjpcbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSBmYWxzZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpIDwgY2hpbGQudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdWJjb25kaXRpb25bY2hpbGQuaWRdID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIHJlZHR5cGUubWF0aF9pbmZlcmlvcl9lcXVhbDpcbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSBmYWxzZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpIDw9IGNoaWxkLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSByZWR0eXBlLm1hdGhfZXF1YWw6XG4gICAgICAgICAgaWYgKHRoaXMuc2Vuc29ySGVscGVyLmdldFNlbnNvclZhbHVlQnlJZEFuZFR5cGUodGhpcy5jb25maWdIZWxwZXIuZGV2aWNlaWQsIHBhcmVudC50eXBlKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zdWJjb25kaXRpb25bY2hpbGQuaWRdID0gZmFsc2VcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuc2Vuc29ySGVscGVyLmdldFNlbnNvclZhbHVlQnlJZEFuZFR5cGUodGhpcy5jb25maWdIZWxwZXIuZGV2aWNlaWQsIHBhcmVudC50eXBlKSA9PT0gY2hpbGQudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdWJjb25kaXRpb25bY2hpbGQuaWRdID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIHJlZHR5cGUubWF0aF9zdXBlcmlvcjpcbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSBmYWxzZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpID4gY2hpbGQudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdWJjb25kaXRpb25bY2hpbGQuaWRdID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIHJlZHR5cGUubWF0aF9zdXBlcmlvcl9lcXVhbDpcbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSBmYWxzZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5zZW5zb3JIZWxwZXIuZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSh0aGlzLmNvbmZpZ0hlbHBlci5kZXZpY2VpZCwgcGFyZW50LnR5cGUpID49IGNoaWxkLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSByZWR0eXBlLmxvZ2ljX2FuZDpcbiAgICAgICAgICBsZXQgY29uZGl0aW9uTG9naWNBbmRPayA9IHRydWVcblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWFkZXIuZ2V0Q29ubmVjdGVkTm9kZVBhcmVudHNGcm9tSWQoY2hpbGQuaWQpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZVMgPSB0aGlzLnJlYWRlci5nZXROb2RlRnJvbUlkKHRoaXMucmVhZGVyLmdldENvbm5lY3RlZE5vZGVQYXJlbnRzRnJvbUlkKGNoaWxkLmlkKVtpXS5pZClcblxuICAgICAgICAgICAgaWYgKG5vZGVTLnR5cGUgPT09IHJlZHR5cGUuc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0U2NoZWFkdWxlck5vZGVTdGF0dXQobm9kZVMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN1YmNvbmRpdGlvblt0aGlzLnJlYWRlci5nZXRDb25uZWN0ZWROb2RlUGFyZW50c0Zyb21JZChjaGlsZC5pZClbaV0uaWRdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGNvbmRpdGlvbkxvZ2ljQW5kT2sgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb25kaXRpb25Mb2dpY0FuZE9rKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSByZWR0eXBlLmxvZ2ljX29yOlxuICAgICAgICAgIGxldCBjb25kaXRpb25Mb2dpY09yT2sgPSBmYWxzZVxuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlYWRlci5nZXRDb25uZWN0ZWROb2RlUGFyZW50c0Zyb21JZChjaGlsZC5pZCkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1YmNvbmRpdGlvblt0aGlzLnJlYWRlci5nZXRDb25uZWN0ZWROb2RlUGFyZW50c0Zyb21JZChjaGlsZC5pZClbaV0uaWRdID09PSB0cnVlICYmICFjb25kaXRpb25Mb2dpY09yT2spIHtcbiAgICAgICAgICAgICAgY29uZGl0aW9uTG9naWNPck9rID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb25kaXRpb25Mb2dpY09yT2spIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY29uZGl0aW9uW2NoaWxkLmlkXSA9IHRydWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdWJjb25kaXRpb25bY2hpbGQuaWRdID0gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIHJlZHR5cGUuZ2xvYmFsX2FjdHVhdG9yOlxuICAgICAgICAgIGxldCBjb25kaXRpb25HbG9iYWxBY3R1YXRvck9rID0gdHJ1ZVxuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlYWRlci5nZXRDb25uZWN0ZWROb2RlUGFyZW50c0Zyb21JZChjaGlsZC5pZCkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1YmNvbmRpdGlvblt0aGlzLnJlYWRlci5nZXRDb25uZWN0ZWROb2RlUGFyZW50c0Zyb21JZChjaGlsZC5pZClbaV0uaWRdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGNvbmRpdGlvbkdsb2JhbEFjdHVhdG9yT2sgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb25kaXRpb25HbG9iYWxBY3R1YXRvck9rKSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSB0cnVlXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnIyMjIyMjI2NoaWxkIDogJywgY2hpbGQpXG4gICAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ3NlbnNvci1yZWNlaXZlJywge1xuICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlOiAncmVsYXknICsgY2hpbGQucmVsYXludW1iZXIsXG4gICAgICAgICAgICAgICAgZGV2aWNlX2lkOiBjaGlsZC5kZXZpY2VpZCxcbiAgICAgICAgICAgICAgICBzZW5zb3JfbW9kZTogMSxcbiAgICAgICAgICAgICAgICBzZW5zb3JfdmFsdWU6IGNoaWxkLnZhbHVlLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1YmNvbmRpdGlvbltjaGlsZC5pZF0gPSBmYWxzZVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJyMjIyMjIyNjaGlsZCA6ICcsIGNoaWxkKVxuICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCdzZW5zb3ItcmVjZWl2ZScsIHtcbiAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZTogJ3JlbGF5JyArIGNoaWxkLnJlbGF5bnVtYmVyLFxuICAgICAgICAgICAgICAgIGRldmljZV9pZDogY2hpbGQuZGV2aWNlaWQsXG4gICAgICAgICAgICAgICAgc2Vuc29yX21vZGU6IDAsXG4gICAgICAgICAgICAgICAgc2Vuc29yX3ZhbHVlOiBjaGlsZC52YWx1ZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWZpbmlzaGVkKSB7XG4gICAgICB0aGlzLmV4dHJhY3RTdWJDb25kaXRpb24oY2hpbGQuaWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnF1ZXVlRW50cnlQb2ludC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZXh0cmFjdFN1YkNvbmRpdGlvbih0aGlzLnF1ZXVlRW50cnlQb2ludC5zaGlmdCgpLmlkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zdWJjb25kaXRpb24pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2xhc3MvZW5naW5lLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBbktBO0FBcUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBNU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!*************************!*\
  !*** ./class/reader.js ***!
  \*************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Reader = function () {\n  function Reader(configHelper) {\n    _classCallCheck(this, Reader);\n\n    this.configHelper = configHelper;\n  }\n\n  _createClass(Reader, [{\n    key: 'getEntryPointNode',\n    value: function getEntryPointNode() {\n      var entryPointNode = [];\n\n      for (var i = 0; i < this.configHelper.graph.length; i++) {\n        var wires = [];\n\n        for (var j = 0; j < this.configHelper.graph.length; j++) {\n          if (i !== j) {\n            for (var k = 0; k < this.configHelper.graph[j].wires.length; k++) {\n              for (var l = 0; l < this.configHelper.graph[j].wires[k].length; l++) {\n                if (this.configHelper.graph[j].wires[k][l] === this.configHelper.graph[i].id) {\n                  wires += this.configHelper.graph[j].wires[k][l];\n                }\n              }\n            }\n          }\n        }\n        if (wires.length === 0) {\n          entryPointNode.push(this.configHelper.graph[i]);\n        }\n      }\n\n      return entryPointNode;\n    }\n  }, {\n    key: 'getRelayNodes',\n    value: function getRelayNodes() {\n      var nodeRelayIds = [];\n      var nodeRelay = [];\n\n      if (this.configHelper.graph !== null) {\n        for (var i = 0; i < this.configHelper.graph.length; i++) {\n          if (this.configHelper.graph[i].type === 'global_actuator') {\n            if (nodeRelayIds.indexOf(this.configHelper.graph[i].deviceid) === -1) {\n              nodeRelay.push({ deviceid: this.configHelper.graph[i].deviceid, relaynumber: this.configHelper.graph[i].relaynumber });\n              nodeRelayIds.push(this.configHelper.graph[i].deviceid);\n            }\n          }\n        }\n      }\n\n      return nodeRelay;\n    }\n  }, {\n    key: 'getNodeFromId',\n    value: function getNodeFromId(id) {\n      for (var i = 0; i < this.configHelper.graph.length; i++) {\n        if (this.configHelper.graph[i].id === id) {\n          return this.configHelper.graph[i];\n        }\n      }\n    }\n  }, {\n    key: 'getConnectedNodeParentsFromId',\n    value: function getConnectedNodeParentsFromId(id) {\n      var nodes = [];\n\n      for (var i = 0; i < this.configHelper.graph.length; i++) {\n        for (var j = 0; j < this.configHelper.graph[i].wires.length; j++) {\n          for (var k = 0; k < this.configHelper.graph[i].wires[j].length; k++) {\n            if (this.configHelper.graph[i].wires[j][k] === id) {\n              nodes.push(this.configHelper.graph[i]);\n            }\n          }\n        }\n      }\n\n      return nodes;\n    }\n  }]);\n\n  return Reader;\n}();\n\nexports.default = Reader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jbGFzcy9yZWFkZXIuanM/NGNiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFkZXIge1xuICBjb25zdHJ1Y3RvciAoY29uZmlnSGVscGVyKSB7XG4gICAgdGhpcy5jb25maWdIZWxwZXIgPSBjb25maWdIZWxwZXJcbiAgfVxuXG4gIGdldEVudHJ5UG9pbnROb2RlICgpIHtcbiAgICBsZXQgZW50cnlQb2ludE5vZGUgPSBbXVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHdpcmVzID0gW11cblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaC5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoaSAhPT0gaikge1xuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbal0ud2lyZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgdGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbal0ud2lyZXNba10ubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnSGVscGVyLmdyYXBoW2pdLndpcmVzW2tdW2xdID09PSB0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaFtpXS5pZCkge1xuICAgICAgICAgICAgICAgIHdpcmVzICs9IHRoaXMuY29uZmlnSGVscGVyLmdyYXBoW2pdLndpcmVzW2tdW2xdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh3aXJlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZW50cnlQb2ludE5vZGUucHVzaCh0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaFtpXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZW50cnlQb2ludE5vZGVcbiAgfVxuXG4gIGdldFJlbGF5Tm9kZXMgKCkge1xuICAgIGxldCBub2RlUmVsYXlJZHMgPSBbXVxuICAgIGxldCBub2RlUmVsYXkgPSBbXVxuXG4gICAgaWYgKHRoaXMuY29uZmlnSGVscGVyLmdyYXBoICE9PSBudWxsKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnSGVscGVyLmdyYXBoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaFtpXS50eXBlID09PSAnZ2xvYmFsX2FjdHVhdG9yJykge1xuICAgICAgICAgIGlmIChub2RlUmVsYXlJZHMuaW5kZXhPZih0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaFtpXS5kZXZpY2VpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBub2RlUmVsYXkucHVzaCh7ZGV2aWNlaWQ6IHRoaXMuY29uZmlnSGVscGVyLmdyYXBoW2ldLmRldmljZWlkLCByZWxheW51bWJlcjogdGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbaV0ucmVsYXludW1iZXJ9KVxuICAgICAgICAgICAgbm9kZVJlbGF5SWRzLnB1c2godGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbaV0uZGV2aWNlaWQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVSZWxheVxuICB9XG5cbiAgZ2V0Tm9kZUZyb21JZCAoaWQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnSGVscGVyLmdyYXBoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ0hlbHBlci5ncmFwaFtpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENvbm5lY3RlZE5vZGVQYXJlbnRzRnJvbUlkIChpZCkge1xuICAgIGxldCBub2RlcyA9IFtdXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnSGVscGVyLmdyYXBoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29uZmlnSGVscGVyLmdyYXBoW2ldLndpcmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbaV0ud2lyZXNbal0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25maWdIZWxwZXIuZ3JhcGhbaV0ud2lyZXNbal1ba10gPT09IGlkKSB7XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHRoaXMuY29uZmlnSGVscGVyLmdyYXBoW2ldKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2Rlc1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2xhc3MvcmVhZGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBdEVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!****************************!*\
  !*** ./class/scheduler.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Scheduler = function () {\n  function Scheduler(data, sensorHelper, cycle) {\n    _classCallCheck(this, Scheduler);\n\n    this.data = data;\n    this.sensorHelper = sensorHelper;\n    this.cycle = cycle;\n\n    this.initValues(data);\n  }\n\n  _createClass(Scheduler, [{\n    key: 'initValues',\n    value: function initValues(data) {\n      this.current = new Date();\n      this.currentTimestamp = Math.round(new Date().getTime() / 1000);\n      this.currentHour = this.current.getHours();\n      this.currentMinutes = this.current.getMinutes();\n      this.startHour = parseInt(data.startHour);\n      this.startMinute = parseInt(data.startMinute);\n      this.endHour = parseInt(data.endHour);\n      this.endMinute = parseInt(data.endMinute);\n      this.onceMinute = parseInt(data.onceMinute);\n      this.onceHour = parseInt(data.onceHour);\n      this.interval = parseInt(data.interval);\n      this.days = data.days;\n      this.day = data.day;\n      this.inRange = false;\n    }\n  }, {\n    key: 'getScheadulerNodeStatut',\n    value: function getScheadulerNodeStatut() {\n      if (this.data.sendFrequency === 'interval' && this.data.sendRange === 'time-range') {\n        this.checkRange();\n      } else if (this.data.sendFrequency === 'interval' && this.data.sendRange === 'all-day') {\n        this.inRange = true;\n      } else if (this.data.sendFrequency === 'once') {\n        this.checkOnce();\n      }\n\n      if (this.data.sendDay === 'days') {\n        if (!this.getScheadulerSendDays()) {\n          this.inRange = false;\n        }\n      }\n\n      if (this.data.sendDay === 'oneDay') {\n        if (!this.getScheadulerSendOneDay()) {\n          this.inRange = false;\n        }\n      }\n\n      return this.checkInterval();\n    }\n  }, {\n    key: 'checkRange',\n    value: function checkRange() {\n      if (this.currentHour > this.startHour) {\n        if (this.currentHour < this.endHour) {\n          this.inRange = true;\n        } else if (this.currentHour === this.endHour) {\n          if (this.currentMinutes < this.endMinute) {\n            this.inRange = true;\n          }\n        }\n      } else if (this.currentHour === this.startHour) {\n        if (this.currentMinutes >= this.startMinute) {\n          if (this.currentHour < this.endHour) {\n            this.inRange = true;\n          } else if (this.currentHour === this.endHour) {\n            if (this.currentMinutes <= this.endMinute) {\n              this.inRange = true;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'getScheadulerSendDays',\n    value: function getScheadulerSendDays() {\n      return this.days[this.current.getDay() - 1];\n    }\n  }, {\n    key: 'getScheadulerSendOneDay',\n    value: function getScheadulerSendOneDay() {\n      return this.day === this.current.getDate();\n    }\n  }, {\n    key: 'checkOnce',\n    value: function checkOnce() {\n      if (this.onceMinute === this.current.getMinutes() && this.onceHour === this.current.getHours()) {\n        return this.inRange = true;\n      }\n    }\n  }, {\n    key: 'checkInterval',\n    value: function checkInterval() {\n      if (this.inRange) {\n        if (this.data.intervalUnits === 'minutes' && this.data.sendFrequency !== 'once') {\n          var minutesFromLastActivation = (this.currentTimestamp - this.sensorHelper.scheduler[this.data.id].timestamp) / 60;\n\n          if (minutesFromLastActivation >= this.interval) {\n            return true;\n          }\n        } else if (this.data.intervalUnits === 'minutes' && this.data.sendFrequency === 'once') {\n          var _minutesFromLastActivation = (this.currentTimestamp - this.sensorHelper.scheduler[this.data.id].timestamp) / 60;\n\n          if (_minutesFromLastActivation >= 0.6) {\n            return true;\n          }\n        } else if (this.data.intervalUnits === 'hours') {\n          var hoursFromLastActivation = (this.currentTimestamp - this.sensorHelper.scheduler[this.data.id].timestamp) / 3600;\n\n          if (hoursFromLastActivation >= this.interval) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Scheduler;\n}();\n\nexports.default = Scheduler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jbGFzcy9zY2hlZHVsZXIuanM/NGI4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY2hlZHVsZXIge1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgc2Vuc29ySGVscGVyLCBjeWNsZSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICB0aGlzLnNlbnNvckhlbHBlciA9IHNlbnNvckhlbHBlclxuICAgIHRoaXMuY3ljbGUgPSBjeWNsZVxuXG4gICAgdGhpcy5pbml0VmFsdWVzKGRhdGEpXG4gIH1cblxuICBpbml0VmFsdWVzIChkYXRhKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gbmV3IERhdGUoKVxuICAgIHRoaXMuY3VycmVudFRpbWVzdGFtcCA9IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKVxuICAgIHRoaXMuY3VycmVudEhvdXIgPSB0aGlzLmN1cnJlbnQuZ2V0SG91cnMoKVxuICAgIHRoaXMuY3VycmVudE1pbnV0ZXMgPSB0aGlzLmN1cnJlbnQuZ2V0TWludXRlcygpXG4gICAgdGhpcy5zdGFydEhvdXIgPSBwYXJzZUludChkYXRhLnN0YXJ0SG91cilcbiAgICB0aGlzLnN0YXJ0TWludXRlID0gcGFyc2VJbnQoZGF0YS5zdGFydE1pbnV0ZSlcbiAgICB0aGlzLmVuZEhvdXIgPSBwYXJzZUludChkYXRhLmVuZEhvdXIpXG4gICAgdGhpcy5lbmRNaW51dGUgPSBwYXJzZUludChkYXRhLmVuZE1pbnV0ZSlcbiAgICB0aGlzLm9uY2VNaW51dGUgPSBwYXJzZUludChkYXRhLm9uY2VNaW51dGUpXG4gICAgdGhpcy5vbmNlSG91ciA9IHBhcnNlSW50KGRhdGEub25jZUhvdXIpXG4gICAgdGhpcy5pbnRlcnZhbCA9IHBhcnNlSW50KGRhdGEuaW50ZXJ2YWwpXG4gICAgdGhpcy5kYXlzID0gZGF0YS5kYXlzXG4gICAgdGhpcy5kYXkgPSBkYXRhLmRheVxuICAgIHRoaXMuaW5SYW5nZSA9IGZhbHNlXG4gIH1cblxuICBnZXRTY2hlYWR1bGVyTm9kZVN0YXR1dCAoKSB7XG4gICAgaWYgKHRoaXMuZGF0YS5zZW5kRnJlcXVlbmN5ID09PSAnaW50ZXJ2YWwnICYmIHRoaXMuZGF0YS5zZW5kUmFuZ2UgPT09ICd0aW1lLXJhbmdlJykge1xuICAgICAgdGhpcy5jaGVja1JhbmdlKClcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5zZW5kRnJlcXVlbmN5ID09PSAnaW50ZXJ2YWwnICYmIHRoaXMuZGF0YS5zZW5kUmFuZ2UgPT09ICdhbGwtZGF5Jykge1xuICAgICAgdGhpcy5pblJhbmdlID0gdHJ1ZVxuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnNlbmRGcmVxdWVuY3kgPT09ICdvbmNlJykge1xuICAgICAgdGhpcy5jaGVja09uY2UoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEuc2VuZERheSA9PT0gJ2RheXMnKSB7XG4gICAgICBpZiAoIXRoaXMuZ2V0U2NoZWFkdWxlclNlbmREYXlzKCkpIHtcbiAgICAgICAgdGhpcy5pblJhbmdlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXRhLnNlbmREYXkgPT09ICdvbmVEYXknKSB7XG4gICAgICBpZiAoIXRoaXMuZ2V0U2NoZWFkdWxlclNlbmRPbmVEYXkoKSkge1xuICAgICAgICB0aGlzLmluUmFuZ2UgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNoZWNrSW50ZXJ2YWwoKVxuICB9XG5cbiAgY2hlY2tSYW5nZSAoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudEhvdXIgPiB0aGlzLnN0YXJ0SG91cikge1xuICAgICAgaWYgKHRoaXMuY3VycmVudEhvdXIgPCB0aGlzLmVuZEhvdXIpIHtcbiAgICAgICAgdGhpcy5pblJhbmdlID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRIb3VyID09PSB0aGlzLmVuZEhvdXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE1pbnV0ZXMgPCB0aGlzLmVuZE1pbnV0ZSkge1xuICAgICAgICAgIHRoaXMuaW5SYW5nZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50SG91ciA9PT0gdGhpcy5zdGFydEhvdXIpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRNaW51dGVzID49IHRoaXMuc3RhcnRNaW51dGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEhvdXIgPCB0aGlzLmVuZEhvdXIpIHtcbiAgICAgICAgICB0aGlzLmluUmFuZ2UgPSB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50SG91ciA9PT0gdGhpcy5lbmRIb3VyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1pbnV0ZXMgPD0gdGhpcy5lbmRNaW51dGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5SYW5nZSA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRTY2hlYWR1bGVyU2VuZERheXMgKCkge1xuICAgIHJldHVybiB0aGlzLmRheXNbdGhpcy5jdXJyZW50LmdldERheSgpIC0gMV1cbiAgfVxuXG4gIGdldFNjaGVhZHVsZXJTZW5kT25lRGF5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXkgPT09IHRoaXMuY3VycmVudC5nZXREYXRlKClcbiAgfVxuXG4gIGNoZWNrT25jZSAoKSB7XG4gICAgaWYgKHRoaXMub25jZU1pbnV0ZSA9PT0gdGhpcy5jdXJyZW50LmdldE1pbnV0ZXMoKSAmJiB0aGlzLm9uY2VIb3VyID09PSB0aGlzLmN1cnJlbnQuZ2V0SG91cnMoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5SYW5nZSA9IHRydWVcbiAgICB9XG4gIH1cblxuICBjaGVja0ludGVydmFsICgpIHtcbiAgICBpZiAodGhpcy5pblJhbmdlKSB7XG4gICAgICBpZiAodGhpcy5kYXRhLmludGVydmFsVW5pdHMgPT09ICdtaW51dGVzJyAmJiB0aGlzLmRhdGEuc2VuZEZyZXF1ZW5jeSAhPT0gJ29uY2UnKSB7XG4gICAgICAgIGxldCBtaW51dGVzRnJvbUxhc3RBY3RpdmF0aW9uID0gKHRoaXMuY3VycmVudFRpbWVzdGFtcCAtIHRoaXMuc2Vuc29ySGVscGVyLnNjaGVkdWxlclt0aGlzLmRhdGEuaWRdLnRpbWVzdGFtcCkgLyA2MFxuXG4gICAgICAgIGlmIChtaW51dGVzRnJvbUxhc3RBY3RpdmF0aW9uID49IHRoaXMuaW50ZXJ2YWwpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5pbnRlcnZhbFVuaXRzID09PSAnbWludXRlcycgJiYgdGhpcy5kYXRhLnNlbmRGcmVxdWVuY3kgPT09ICdvbmNlJykge1xuICAgICAgICBsZXQgbWludXRlc0Zyb21MYXN0QWN0aXZhdGlvbiA9ICh0aGlzLmN1cnJlbnRUaW1lc3RhbXAgLSB0aGlzLnNlbnNvckhlbHBlci5zY2hlZHVsZXJbdGhpcy5kYXRhLmlkXS50aW1lc3RhbXApIC8gNjBcblxuICAgICAgICBpZiAobWludXRlc0Zyb21MYXN0QWN0aXZhdGlvbiA+PSAwLjYpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5pbnRlcnZhbFVuaXRzID09PSAnaG91cnMnKSB7XG4gICAgICAgIGxldCBob3Vyc0Zyb21MYXN0QWN0aXZhdGlvbiA9ICh0aGlzLmN1cnJlbnRUaW1lc3RhbXAgLSB0aGlzLnNlbnNvckhlbHBlci5zY2hlZHVsZXJbdGhpcy5kYXRhLmlkXS50aW1lc3RhbXApIC8gMzYwMFxuXG4gICAgICAgIGlmIChob3Vyc0Zyb21MYXN0QWN0aXZhdGlvbiA+PSB0aGlzLmludGVydmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2xhc3Mvc2NoZWR1bGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUE5R0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!*************************!*\
  !*** ./class/sensor.js ***!
  \*************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _redtype = __webpack_require__(/*! ../enums/redtype */ 0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Sensor = function () {\n  function Sensor() {\n    _classCallCheck(this, Sensor);\n\n    this.data = {};\n    this.math_average = {};\n    this.dli_last_update = Date.now();\n    this.scheduler = {};\n    this.maxBufferTimeHours = 0.1;\n  }\n\n  _createClass(Sensor, [{\n    key: 'updateData',\n    value: function updateData(data) {\n      data = JSON.parse(data);\n\n      if (data.sensor_type === 'light_par') {\n        this.storeDLI(data);\n      }\n\n      this.data[data.sensor_id + 'sensor_' + data.sensor_type] = data;\n\n      var dataWithTs = {\n        timestamp: Math.round(new Date().getTime() / 1000),\n        data: data\n      };\n\n      if (this.data[data.sensor_id + 'sensor_' + data.sensor_type + '_ts'] === undefined) {\n        this.data[data.sensor_id + 'sensor_' + data.sensor_type + '_ts'] = [];\n        this.data[data.sensor_id + 'sensor_' + data.sensor_type + '_ts'].push(dataWithTs);\n      } else {\n        this.data[data.sensor_id + 'sensor_' + data.sensor_type + '_ts'].push(dataWithTs);\n      }\n\n      this.cleanBuffer();\n    }\n  }, {\n    key: 'cleanBuffer',\n    value: function cleanBuffer() {\n      var timestamp = Math.round(new Date().getTime() / 1000);\n      var timestampShift = timestamp - this.maxBufferTimeHours * 3600;\n\n      var keys = Object.keys(this.data);\n\n      for (var i = 0; i < keys.length; i++) {\n        if (keys[i].indexOf('_ts') !== -1) {\n          for (var j = 0; j < this.data[keys[i]].length; j++) {\n            if (this.data[keys[i]][j].timestamp < timestampShift) {\n              this.data[keys[i]].shift();\n            } else {\n              break;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'getSensorValueByIdAndType',\n    value: function getSensorValueByIdAndType(id, type) {\n      if (this.data[id + type] !== undefined) {\n        if (this.data[id + type].sensor_value !== undefined) {\n          return this.data[id + type].sensor_value;\n        } else {\n          return null;\n        }\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'getSensorValueByIdAndTypeAverage',\n    value: function getSensorValueByIdAndTypeAverage(id, type, seconds) {\n      var averageValues = [];\n      var timestamp = Math.round(new Date().getTime() / 1000) - seconds;\n\n      var last = 0;\n      var first = 0;\n\n      for (var i = this.data[id + type + '_ts'].length - 1; i > 0; i--) {\n        if (i === this.data[id + type + '_ts'].length - 1) {\n          last = this.data[id + type + '_ts'][i].timestamp;\n        }\n\n        if (timestamp - this.data[id + type + '_ts'][i].timestamp < seconds) {\n          averageValues.push(parseInt(this.data[id + type + '_ts'][i].data.sensor_value));\n        } else {\n          first = this.data[id + type + '_ts'][i + 1].timestamp;\n          break;\n        }\n      }\n\n      var storeDelay = 0;\n\n      if (first !== 0) {\n        storeDelay = last - first;\n      }\n\n      return { storeDelay: storeDelay, value: this.getSumFromArrayAverage(averageValues) };\n    }\n  }, {\n    key: 'getSumFromArrayAverage',\n    value: function getSumFromArrayAverage(averageValues) {\n      var sum = 0;\n\n      for (var i = 0; i < averageValues.length; i++) {\n        sum += parseInt(averageValues[i], 10);\n      }\n\n      return Math.floor(sum / averageValues.length);\n    }\n  }, {\n    key: 'storeDLI',\n    value: function storeDLI(data) {\n      var time = Date.now();\n      var deltaT = time - this.dli_last_update;\n      var mult = deltaT / 1000;\n\n      var value = 0;\n\n      if (this.data[data.sensor_id + 'sensor_light_dli'] !== undefined) {\n        value = this.data[data.sensor_id + 'sensor_light_dli'].sensor_value;\n      }\n\n      this.data[data.sensor_id + 'sensor_light_dli'] = { device_id: data.device_id,\n        sensor_type: 'light_dli',\n        sensor_id: data.sensor_id,\n        sensor_value: value + parseFloat(data.sensor_value) * mult / 1000000 };\n\n      this.dli_last_update = time;\n    }\n  }]);\n\n  return Sensor;\n}();\n\nexports.default = Sensor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jbGFzcy9zZW5zb3IuanM/YjhlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3JlZHR5cGV9IGZyb20gJy4uL2VudW1zL3JlZHR5cGUnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbnNvciB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmRhdGEgPSB7fVxuICAgIHRoaXMubWF0aF9hdmVyYWdlID0ge31cbiAgICB0aGlzLmRsaV9sYXN0X3VwZGF0ZSA9IERhdGUubm93KClcbiAgICB0aGlzLnNjaGVkdWxlciA9IHt9XG4gICAgdGhpcy5tYXhCdWZmZXJUaW1lSG91cnMgPSAwLjFcbiAgfVxuXG4gIHVwZGF0ZURhdGEgKGRhdGEpIHtcbiAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKVxuXG4gICAgaWYgKGRhdGEuc2Vuc29yX3R5cGUgPT09ICdsaWdodF9wYXInKSB7XG4gICAgICB0aGlzLnN0b3JlRExJKGRhdGEpXG4gICAgfVxuXG4gICAgdGhpcy5kYXRhW2RhdGEuc2Vuc29yX2lkICsgJ3NlbnNvcl8nICsgZGF0YS5zZW5zb3JfdHlwZV0gPSBkYXRhXG5cbiAgICBsZXQgZGF0YVdpdGhUcyA9IHtcbiAgICAgIHRpbWVzdGFtcDogTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGFbZGF0YS5zZW5zb3JfaWQgKyAnc2Vuc29yXycgKyBkYXRhLnNlbnNvcl90eXBlICsgJ190cyddID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZGF0YVtkYXRhLnNlbnNvcl9pZCArICdzZW5zb3JfJyArIGRhdGEuc2Vuc29yX3R5cGUgKyAnX3RzJ10gPSBbXVxuICAgICAgdGhpcy5kYXRhW2RhdGEuc2Vuc29yX2lkICsgJ3NlbnNvcl8nICsgZGF0YS5zZW5zb3JfdHlwZSArICdfdHMnXS5wdXNoKGRhdGFXaXRoVHMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YVtkYXRhLnNlbnNvcl9pZCArICdzZW5zb3JfJyArIGRhdGEuc2Vuc29yX3R5cGUgKyAnX3RzJ10ucHVzaChkYXRhV2l0aFRzKVxuICAgIH1cblxuICAgIHRoaXMuY2xlYW5CdWZmZXIoKVxuICB9XG5cbiAgY2xlYW5CdWZmZXIgKCkge1xuICAgIHZhciB0aW1lc3RhbXAgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMClcbiAgICB2YXIgdGltZXN0YW1wU2hpZnQgPSB0aW1lc3RhbXAgLSAodGhpcy5tYXhCdWZmZXJUaW1lSG91cnMgKiAzNjAwKVxuXG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmRhdGEpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChrZXlzW2ldLmluZGV4T2YoJ190cycpICE9PSAtMSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZGF0YVtrZXlzW2ldXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmICh0aGlzLmRhdGFba2V5c1tpXV1bal0udGltZXN0YW1wIDwgdGltZXN0YW1wU2hpZnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtrZXlzW2ldXS5zaGlmdCgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZSAoaWQsIHR5cGUpIHtcbiAgICBpZiAodGhpcy5kYXRhW2lkICsgdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHRoaXMuZGF0YVtpZCArIHR5cGVdLnNlbnNvcl92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbaWQgKyB0eXBlXS5zZW5zb3JfdmFsdWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0U2Vuc29yVmFsdWVCeUlkQW5kVHlwZUF2ZXJhZ2UgKGlkLCB0eXBlLCBzZWNvbmRzKSB7XG4gICAgbGV0IGF2ZXJhZ2VWYWx1ZXMgPSBbXVxuICAgIGxldCB0aW1lc3RhbXAgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgLSBzZWNvbmRzXG5cbiAgICBsZXQgbGFzdCA9IDBcbiAgICBsZXQgZmlyc3QgPSAwXG5cbiAgICBmb3IgKGxldCBpID0gdGhpcy5kYXRhW2lkICsgdHlwZSArICdfdHMnXS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBpZiAoaSA9PT0gdGhpcy5kYXRhW2lkICsgdHlwZSArICdfdHMnXS5sZW5ndGggLSAxKSB7XG4gICAgICAgIGxhc3QgPSB0aGlzLmRhdGFbaWQgKyB0eXBlICsgJ190cyddW2ldLnRpbWVzdGFtcFxuICAgICAgfVxuXG4gICAgICBpZiAoKHRpbWVzdGFtcCAtIHRoaXMuZGF0YVtpZCArIHR5cGUgKyAnX3RzJ11baV0udGltZXN0YW1wKSA8IHNlY29uZHMpIHtcbiAgICAgICAgYXZlcmFnZVZhbHVlcy5wdXNoKHBhcnNlSW50KHRoaXMuZGF0YVtpZCArIHR5cGUgKyAnX3RzJ11baV0uZGF0YS5zZW5zb3JfdmFsdWUpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3QgPSB0aGlzLmRhdGFbaWQgKyB0eXBlICsgJ190cyddW2kgKyAxXS50aW1lc3RhbXBcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgc3RvcmVEZWxheSA9IDBcblxuICAgIGlmIChmaXJzdCAhPT0gMCkge1xuICAgICAgc3RvcmVEZWxheSA9IGxhc3QgLSBmaXJzdFxuICAgIH1cblxuICAgIHJldHVybiB7c3RvcmVEZWxheTogc3RvcmVEZWxheSwgdmFsdWU6IHRoaXMuZ2V0U3VtRnJvbUFycmF5QXZlcmFnZShhdmVyYWdlVmFsdWVzKX1cbiAgfVxuXG4gIGdldFN1bUZyb21BcnJheUF2ZXJhZ2UgKGF2ZXJhZ2VWYWx1ZXMpIHtcbiAgICB2YXIgc3VtID0gMFxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdmVyYWdlVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdW0gKz0gcGFyc2VJbnQoYXZlcmFnZVZhbHVlc1tpXSwgMTApXG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguZmxvb3Ioc3VtIC8gYXZlcmFnZVZhbHVlcy5sZW5ndGgpXG4gIH1cblxuICBzdG9yZURMSSAoZGF0YSkge1xuICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKVxuICAgIHZhciBkZWx0YVQgPSB0aW1lIC0gdGhpcy5kbGlfbGFzdF91cGRhdGVcbiAgICB2YXIgbXVsdCA9IGRlbHRhVCAvIDEwMDBcblxuICAgIHZhciB2YWx1ZSA9IDBcblxuICAgIGlmICh0aGlzLmRhdGFbZGF0YS5zZW5zb3JfaWQgKyAnc2Vuc29yX2xpZ2h0X2RsaSddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbHVlID0gdGhpcy5kYXRhW2RhdGEuc2Vuc29yX2lkICsgJ3NlbnNvcl9saWdodF9kbGknXS5zZW5zb3JfdmFsdWVcbiAgICB9XG5cbiAgICB0aGlzLmRhdGFbZGF0YS5zZW5zb3JfaWQgKyAnc2Vuc29yX2xpZ2h0X2RsaSddID0geyBkZXZpY2VfaWQ6IGRhdGEuZGV2aWNlX2lkLFxuICAgICAgc2Vuc29yX3R5cGU6ICdsaWdodF9kbGknLFxuICAgICAgc2Vuc29yX2lkOiBkYXRhLnNlbnNvcl9pZCxcbiAgICAgIHNlbnNvcl92YWx1ZTogKHZhbHVlICsgKHBhcnNlRmxvYXQoZGF0YS5zZW5zb3JfdmFsdWUpICogbXVsdCkgLyAxMDAwMDAwKSB9XG5cbiAgICB0aGlzLmRsaV9sYXN0X3VwZGF0ZSA9IHRpbWVcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNsYXNzL3NlbnNvci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBeEhBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!*******************************!*\
  !*** ./class/ConfigHelper.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ConfigHelper = function () {\n  function ConfigHelper() {\n    _classCallCheck(this, ConfigHelper);\n\n    this.engine = {};\n    this.deviceid = '0';\n    this.graph = null;\n    this.ready = false;\n  }\n\n  _createClass(ConfigHelper, [{\n    key: 'getConfig',\n    value: function getConfig() {\n      var relays = this.engine.reader.getRelayNodes();\n      var type = 'client';\n\n      for (var i = 0; i < relays.length; i++) {\n        if (relays[i].deviceid !== undefined) {\n          if (relays[i].deviceid === this.deviceid) {\n            type = 'server';\n            break;\n          }\n        }\n      }\n\n      return {\n        type: type,\n        relays: relays\n      };\n    }\n  }]);\n\n  return ConfigHelper;\n}();\n\nexports.default = ConfigHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9jbGFzcy9Db25maWdIZWxwZXIuanM/NDMwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWdIZWxwZXIge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5lbmdpbmUgPSB7fVxuICAgIHRoaXMuZGV2aWNlaWQgPSAnMCdcbiAgICB0aGlzLmdyYXBoID0gbnVsbFxuICAgIHRoaXMucmVhZHkgPSBmYWxzZVxuICB9XG5cbiAgZ2V0Q29uZmlnICgpIHtcbiAgICB2YXIgcmVsYXlzID0gdGhpcy5lbmdpbmUucmVhZGVyLmdldFJlbGF5Tm9kZXMoKVxuICAgIHZhciB0eXBlID0gJ2NsaWVudCdcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVsYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVsYXlzW2ldLmRldmljZWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHJlbGF5c1tpXS5kZXZpY2VpZCA9PT0gdGhpcy5kZXZpY2VpZCkge1xuICAgICAgICAgIHR5cGUgPSAnc2VydmVyJ1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHJlbGF5czogcmVsYXlzXG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2xhc3MvQ29uZmlnSGVscGVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTs7Ozs7O0FBekJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ })
/******/ ]);